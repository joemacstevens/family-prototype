var __spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<o;t++)for(var s=arguments[t],n=0,l=s.length;n<l;n++,i++)r[i]=s[n];return r};System.register(["./p-52d4ac09.system.js","./p-50f9a219.system.js","./p-d0a5935d.system.js","./p-2fff7c3c.system.js","./p-ecaeca25.system.js","./p-82b5040e.system.js"],(function(e){"use strict";var t,o,r,i,s,n,l,a,c,u,h,f,p,d,v;return{setters:[function(e){t=e.r;o=e.c;r=e.h;i=e.g},function(){},function(e){s=e.h},function(e){n=e.P},function(e){l=e.o},function(e){a=e.g;c=e.a;u=e.c;h=e.b;f=e.e;p=e.m;d=e.d;v=e.f}],execute:function(){var y=undefined&&undefined.__decorate||function(e,t,o,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,o):r,n;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")s=Reflect.decorate(e,t,o,r);else for(var l=e.length-1;l>=0;l--)if(n=e[l])s=(i<3?n(s):i>3?n(t,o,s):n(t,o))||s;return i>3&&s&&Object.defineProperty(t,o,s),s};var g=e("wf_flyout",function(){function e(e){var r=this;t(this,e);this.level=1;this.noArrow=false;this.overlap=0;this.opened=false;this.focusAttribute="focusable";this.triggerTabIndex="0";this.arrowPointer=true;this.trigger="click";this.enableOpenChangedEvent=false;this.detached=false;this.visible=true;this.spaces={vertical:"bottom",horizontal:"center"};this.screenGrid={columns:3,rows:3};this.triggerSelector=".flyout-trigger";this.focusFirstChild=false;this.handleClick=function(e){var t=r,o=t.trigger,i=t.opened;if(o==="none"||o!=="click"&&e.detail===1)return;if(e.detail===0)r.focusFirstChild=true;e.preventDefault();i?r.closeFlyout("MOUSE_CLICK"):r.openFlyout("MOUSE_CLICK")};this.handleMouseEnter=function(){if(r.trigger!=="hover"||r.opened)return;r.openFlyout("MOUSE_ENTER")};this.handleMouseLeave=function(){if(r.trigger!=="hover"||!r.opened)return;r.closeFlyout("MOUSE_LEAVE",true)};this.keyPressCases=function(e,t,o){return{Enter:function(){if(t){e.stopPropagation();r.focusFirstChild=true;r.opened?r.closeFlyout("ENTER_KEY"):r.openFlyout("ENTER_KEY")}},ArrowDown:function(){if(t){e.preventDefault();r.focusFirstChild=true;r.openFlyout("ARROW_DOWN")}if(o!==-1){e.preventDefault();r.focusNextItem(o)}},ArrowUp:function(){if(o!==-1){e.preventDefault();r.focusPrevItem(o)}},Tab:function(){if(o!==-1){e.preventDefault();r.focusNextItem(o)}},Escape:function(){if(r.opened)e.stopPropagation();r.closeFlyout("ESC_KEY")}}[e.key]};this.spacesValidity=function(e){return{vertical:e.vertical?e.vertical:r.spaces.vertical,horizontal:e.horizontal?e.horizontal:r.spaces.horizontal}};this.flyoutOpenChanged=o(this,"flyoutOpenChanged",7);this.docOpen=o(this,"open",7);this.docWfOpen=o(this,"wfOpen",7);this.docClose=o(this,"close",7);this.docWfClose=o(this,"wfClose",7)}e.prototype.componentWillLoad=function(){this.handleClick=this.handleClick.bind(this);this.handleKeyPress=this.handleKeyPress.bind(this);this.handleMouseEnter=this.handleMouseEnter.bind(this);this.handleMouseLeave=this.handleMouseLeave.bind(this);this.focusableElementsSelector='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"]), ['+this.focusAttribute+"]";this.focusableElements=[];this.slotElement=this.host.querySelector("[slot=trigger]");if(!!this.placement){this.spaces=this.updateSpaces(this.placement)}};e.prototype.emitOpenChanged=function(){if(this.enableOpenChangedEvent){this.flyoutOpenChanged.emit(this.opened)}if(this.slotElement){Array.from(this.slotElement.children).forEach((function(e){return e.classList.toggle("trigger-active")}))}};e.prototype.searchFocusableInComponent=function(e,t){return e.shadowRoot.querySelector(t)||e};e.prototype.queryShadowRoot=function(e,t){return e.shadowRoot.querySelector(t)};e.prototype.getAllFocusableItems=function(){var e=this;var t=a(this.host,".flyout-content slot");var o=[];t.forEach((function(t){var r=Array.from(t.querySelectorAll(e.focusableElementsSelector)).filter((function(e){return e.offsetWidth}));o=__spreadArrays(o,r)}));return o};e.prototype.setFocusToChild=function(){var e;this.focusableElements=this.getAllFocusableItems();e=this.focusableElements[0];if(!e)return;if(e.classList.contains("hydrated")){var t=this.searchFocusableInComponent(e,this.focusableElementsSelector);e=t}e.focus()};e.prototype.closeFlyout=function(e,t){if(t===void 0){t=false}this.opened=false;this.close.emit(e);if(t)return;var o;if(this.triggerTabIndex==="-1"){o=this.host.querySelector("[slot=trigger]").querySelector(this.focusableElementsSelector)}else{o=this.queryShadowRoot(this.host,this.triggerSelector)}if(o){o.focus()}};e.prototype.openFlyout=function(e){this.opened=true;this.open.emit(e)};e.prototype.focusPrevItem=function(e){var t=e<=0?this.focusableElements.length-1:e-1;this.focusableElements[t].focus()};e.prototype.focusNextItem=function(e){var t=e>=this.focusableElements.length-1?0:e+1;this.focusableElements[t].focus()};e.prototype.searchForFocusableItem=function(e){return this.focusableElements.indexOf(e)};e.prototype.handleKeyPress=function(e){var t=e.path[0];var o=this.searchForFocusableItem(t);var r=t.classList.contains("flyout-trigger");var i=["Enter","ArrowDown","ArrowUp","Tab","Escape"];if(i.includes(e.key)&&this.trigger!=="none"){this.keyPressCases(e,r,o)()}};e.prototype.clickOutside=function(e){if(!this.opened||this.trigger!=="click")return;var t=[];if(e.composedPath)t=e.composedPath();var o=[this.host,this.triggerEl];if(!t.some((function(e){return o.includes(e)})))this.closeFlyout("OUTSIDE_CLICK")};e.prototype.applyStyles=function(e,t){var o=t.top,r=t.right,i=t.bottom,s=t.left;var n=e.style;o?n.top=o:n.removeProperty("top");r?n.right=r:n.removeProperty("right");i?n.bottom=i:n.removeProperty("bottom");s?n.left=s:n.removeProperty("left")};e.prototype.calculateArrowPointer=function(e){var t=this,o=t.triggerEl,r=t.flyoutElement,i=t.applyStyles;var s=r.querySelector(".arrow-pointer");var n=s.getBoundingClientRect().width;var l=c(e.vertical+"-"+e.horizontal,o,n);i(s,l)};e.prototype.updateSpaces=function(e){var t={top:{vertical:"bottom",horizontal:"center"},bottom:{vertical:"top",horizontal:"center"},left:{vertical:"middle",horizontal:"right"},right:{vertical:"middle",horizontal:"left"}};return t[e]};e.prototype.updatePosition=function(){var e=this,t=e.opened,o=e.triggerEl,r=e.flyoutElement,i=e.screenGrid,n=e.level,l=e.overlap,a=e.noArrow,c=e.arrowPointer,f=e.spacesValidity;if(!t||!o||!r)return;var p;if(!!this.placement){p=this.updateSpaces(this.placement)}var d=n===1?u(o,r,i,p):h(o,r,l,p);var v=d.placement,y=d.spaces;r.style.top=s(v.top);r.style.left=s(v.left);if(!a||!!c){var g=r.querySelector(".flyout-content");var m="flyout-content-"+this.spaces.vertical+"-"+this.spaces.horizontal;var E=f(y);var b="flyout-content-"+E.vertical+"-"+E.horizontal;if(m!==b){g.classList.remove(m);g.classList.add(b)}this.calculateArrowPointer(E);this.spaces=E}requestAnimationFrame(this.updatePosition.bind(this))};e.prototype.componentDidLoad=function(){this.setupTriggerElement();this.componentDidUpdate()};e.prototype.componentDidUpdate=function(){var e=this,t=e.host,o=e.opened;this.flyoutElement=this.queryShadowRoot(t,".flyout-content-wrapper");if(o){if(this.focusFirstChild){this.focusFirstChild=false;this.setFocusToChild()}this.updatePosition()}};e.prototype.setupTriggerElement=function(){if(this.detached){var e=a(this.host,".flyout-trigger slot");if(e.length===0){throw new Error(f.NOT_FOUND_DETACHED_ELEMENT)}if(e.length>1){throw new Error(f.MORE_THAN_ONE_ELEMENT)}this.triggerEl=e[0];this.detachHost()}else{this.triggerEl=this.host.shadowRoot.querySelector(".flyout-trigger")}this.addEventListeners();this.addIntersectionObserver()};e.prototype.detachHost=function(){p(this.host,this.triggerEl);d(this.host,this.triggerEl);v(this.host)};e.prototype.addEventListeners=function(){var e=this,t=e.triggerEl,o=e.handleMouseEnter,r=e.handleMouseLeave,i=e.handleClick;t.addEventListener("mouseenter",o);t.addEventListener("mouseleave",r);t.addEventListener("click",i)};e.prototype.addIntersectionObserver=function(){var e=this;var t=this.triggerEl;l(t,(function(t){if(!e.opened)return;if(!t[0].isIntersecting){e.visible=false;return}e.visible=true;e.updatePosition()}),{threshold:[0]})};e.prototype.componentDidUnload=function(){var e=this,t=e.triggerEl,o=e.handleMouseEnter,r=e.handleMouseLeave,i=e.handleClick;t.removeEventListener("mouseenter",o);t.removeEventListener("mouseleave",r);t.removeEventListener("click",i)};e.prototype.render=function(){var e,t,o;var i=this,s=i.arrowPointer,n=i.noArrow,l=i.spaces,a=i.opened,c=i.visible,u=i.trigger,h=i.triggerTabIndex,f=i.handleMouseEnter,p=i.handleMouseLeave;var d=(e={},e["flyout-trigger"]=true,e["flyout-trigger-none"]=u==="none",e);var v=(t={},t["flyout-content-wrapper"]=true,t["no-arrow"]=!s||!!n,t);var y=(o={},o["flyout-content"]=true,o["flyout-content-"+l.vertical+"-"+l.horizontal]=true,o);return r("div",{class:"flyout",onMouseEnter:f,onMouseLeave:p},r("div",{class:d,tabindex:h},r("slot",{name:"trigger"})),a&&c?r("div",{class:v},r("div",{class:y},r("span",{class:"arrow-mask"},r("span",{class:"arrow-pointer"})),r("div",{class:"flyout-content-slot-wrapper"},r("slot",null)))):r("div",null))};Object.defineProperty(e.prototype,"host",{get:function(){return i(this)},enumerable:true,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{opened:["emitOpenChanged"]}},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return":host{display:inline-block}.flyout{position:relative;font-family:var(--flyout-font-family);color:var(--flyout-text-color,var(--color-text-primary,var(--text-primary-color,var(--text-color,#1c1c1c))))}.flyout-trigger{cursor:pointer}.flyout-trigger-none{cursor:auto}.flyout-content{position:relative;background:var(--flyout-background,#fff);border-color:var(--flyout-background,#fff);-webkit-box-shadow:var(--flyout-box-shadow,var(--flyout-shadow,2px 4px 8px 0) var(--flyout-shadow-color,rgba(28,28,28,.5)));box-shadow:var(--flyout-box-shadow,var(--flyout-shadow,2px 4px 8px 0) var(--flyout-shadow-color,rgba(28,28,28,.5)));min-height:var(--flyout-min-height,200px);display:-ms-flexbox;display:flex}.flyout-content-wrapper{-webkit-box-sizing:border-box;box-sizing:border-box;position:fixed;z-index:var(--flyout-z-index,1000);top:100%;padding:calc(var(--flyout-distance, var(--spacing-xxs, 6px)) + var(--flyout-arrow-size, 8px));min-width:var(--flyout-min-width,180px);max-width:var(--flyout-max-width,70%);width:var(--flyout-width,auto);white-space:normal;word-break:break-word}.flyout-content-wrapper .arrow-mask{display:block;position:absolute;height:calc(var(--flyout-arrow-size, 8px) + var(--spacing-xxs, 6px));width:calc(var(--flyout-arrow-size, 8px) + var(--spacing-xxs, 6px))}.flyout-content-wrapper .arrow-mask .arrow-pointer{position:absolute;left:auto;top:auto;width:calc(var(--flyout-arrow-size, 8px) * 1.41);height:calc(var(--flyout-arrow-size, 8px) * 1.41);background:var(--flyout-background,#fff);-webkit-box-shadow:var(--flyout-shadow,2px 4px 8px 0) var(--flyout-shadow-color,rgba(28,28,28,.5));box-shadow:var(--flyout-shadow,2px 4px 8px 0) var(--flyout-shadow-color,rgba(28,28,28,.5));-webkit-transform:rotate(45deg);transform:rotate(45deg)}.flyout-content-wrapper.no-arrow{padding:var(--flyout-distance,var(--spacing-xxs,6px))}.flyout-content-wrapper.no-arrow .arrow-mask,.flyout-content-wrapper.no-arrow .arrow-pointer{display:none}.flyout-content-slot-wrapper{padding:var(--flyout-padding,var(--spacing-xxs,6px));background:var(--flyout-background,#fff);position:relative;-ms-flex-item-align:stretch;align-self:stretch;width:100%}.flyout-content-left-top .arrow-mask{right:100%;top:0;height:100%}.flyout-content-left-top .arrow-mask .arrow-pointer{right:calc(-1 * calc(var(--flyout-arrow-size, 8px) * 1.41)/ 2);top:unset}.flyout-content-left-bottom .arrow-mask{right:100%;bottom:0;height:100%}.flyout-content-left-bottom .arrow-mask .arrow-pointer{right:calc(-1 * calc(var(--flyout-arrow-size, 8px) * 1.41)/ 2);bottom:unset}.flyout-content-right-top .arrow-mask{left:100%;top:0;height:100%}.flyout-content-right-top .arrow-mask .arrow-pointer{left:calc(-1 * calc(var(--flyout-arrow-size, 8px) * 1.41)/ 2);top:unset}.flyout-content-right-bottom .arrow-mask{left:100%;bottom:0;height:100%}.flyout-content-right-bottom .arrow-mask .arrow-pointer{left:calc(-1 * calc(var(--flyout-arrow-size, 8px) * 1.41)/ 2);bottom:unset}.flyout-content-top-left .arrow-mask{bottom:100%;left:0;width:100%}.flyout-content-top-left .arrow-mask .arrow-pointer{bottom:calc(-1 * calc(var(--flyout-arrow-size, 8px) * 1.41)/ 2);left:var(--flyout-arrow-size,8px)}.flyout-content-top-center .arrow-mask{bottom:100%;left:0;width:100%}.flyout-content-top-center .arrow-mask .arrow-pointer{bottom:calc(-1 * calc(var(--flyout-arrow-size, 8px) * 1.41)/ 2);left:calc(50% - calc(var(--flyout-arrow-size, 8px) * 1.41)/ 2)}.flyout-content-top-right .arrow-mask{bottom:100%;right:0;width:100%}.flyout-content-top-right .arrow-mask .arrow-pointer{bottom:calc(-1 * calc(var(--flyout-arrow-size, 8px) * 1.41)/ 2);right:var(--flyout-arrow-size,8px)}.flyout-content-middle-left .arrow-mask{top:100%;right:0;height:100%}.flyout-content-middle-left .arrow-mask .arrow-pointer{top:calc(-1 * calc(var(--flyout-arrow-size, 8px) * 1.41)/ 2);right:100%}.flyout-content-middle-right .arrow-mask{top:100%;left:0;height:100%}.flyout-content-middle-right .arrow-mask .arrow-pointer{top:calc(-1 * calc(var(--flyout-arrow-size, 8px) * 1.41)/ 2);left:100%}.flyout-content-bottom-left .arrow-mask{top:100%;left:0;width:100%}.flyout-content-bottom-left .arrow-mask .arrow-pointer{top:calc(-1 * calc(var(--flyout-arrow-size, 8px) * 1.41)/ 2);left:var(--flyout-arrow-size,8px)}.flyout-content-bottom-center .arrow-mask{top:100%;left:0;width:100%}.flyout-content-bottom-center .arrow-mask .arrow-pointer{top:calc(-1 * calc(var(--flyout-arrow-size, 8px) * 1.41)/ 2);left:calc(50% - calc(var(--flyout-arrow-size, 8px) * 1.41)/ 2)}.flyout-content-bottom-right .arrow-mask{top:100%;right:0;width:100%}.flyout-content-bottom-right .arrow-mask .arrow-pointer{top:calc(-1 * calc(var(--flyout-arrow-size, 8px) * 1.41)/ 2);right:var(--flyout-arrow-size,8px)}"},enumerable:true,configurable:true});return e}());y([n()],g.prototype,"open",void 0);y([n()],g.prototype,"close",void 0)}}}));