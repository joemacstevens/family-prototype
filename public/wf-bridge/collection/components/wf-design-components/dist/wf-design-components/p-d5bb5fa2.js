import{h as t}from"./p-6675dcbc.js";const o={vertical:{"1/1":"top","1/2":"top","2/2":"bottom","1/3":"top","2/3":"middle","3/3":"bottom","1/4":"top","2/4":"top","3/4":"bottom","4/4":"bottom"},horizontal:{"1/1":"left","1/2":"left","2/2":"right","1/3":"left","2/3":"center","3/3":"right","1/4":"left","2/4":"left","3/4":"right","4/4":"right"}},e=(t,o,e)=>{let n=Math.floor(t/o)+1;return n=n>e?e:n,`${n}/${e}`},n=(t,n,r,i)=>{const l={vertical:(t.top+t.bottom)/2,horizontal:(t.left+t.right)/2},h={width:window.innerWidth/n,height:window.innerHeight/r},a={vertical:"top",horizontal:"left"};return r%2&&((t,o)=>t.left<o&&window.innerWidth-t.right<o)(t,i)&&(r-=1,h.height=window.innerHeight/r),a.vertical=o.vertical[e(l.vertical,h.height,r)],"middle"===a.vertical&&(n-=1,h.width=window.innerWidth/n),a.horizontal=o.horizontal[e(l.horizontal,h.width,n)],a},r=(t,o,e)=>{const n=t.vertical;return"top"===n?o.bottom:"middle"===n?o.bottom-e.height/2-o.height/2:o.top-e.height},i=(t,o,e,n)=>{const r=t.horizontal,i="middle"===t.vertical;return"left"===r?i?o.right:o.left-n:"center"===r?o.left+o.width/2-e.width/2:i?o.left-e.width:o.right-e.width+n};function l(t,o,e,l,h){const a=t.getBoundingClientRect(),s={width:o.offsetWidth,height:o.offsetHeight},c=h||n(a,e.columns,e.rows,s.width+l);return{spaces:c,placement:{top:r(c,a,s),left:i(c,a,s,l)}}}const h=(t,o,e)=>t.top-parseInt(e,10)+o.height<window.innerHeight?{top:t.top-parseInt(e,10),vertical:"top"}:{top:t.top+t.height-o.height+parseInt(e,10),vertical:"bottom"};function a(t,o,e,n){const r=t.getBoundingClientRect(),i=o.getBoundingClientRect(),l=window.getComputedStyle(o).paddingTop,a=h(r,i,l),s=((t,o,e,n)=>n?((t,o,e,n)=>"right"===n.horizontal?{left:t.left-o.width+e,horizontal:"right"}:"left"===n.horizontal?{left:t.right-e,horizontal:"left"}:void 0)(t,o,e,n):((t,o,e)=>{const n=document.body.clientWidth-t.right;if(t.right+o.width<document.body.clientWidth||t.left<n){const n=t.right-e;return{left:n+o.width>=document.body.clientWidth?document.body.clientWidth-o.width:n,horizontal:"left"}}{const n=t.left-o.width+e;return{left:n<=0?0:n,horizontal:"right"}}})(t,o,e))(r,i,e,n);return{spaces:{vertical:s.horizontal,horizontal:a.vertical},placement:{top:a.top,left:s.left}}}function s(t,o,e,l){const a=t.getBoundingClientRect(),s={width:o.offsetWidth,height:o.offsetHeight},c=l||n(a,e.columns,e.rows,s.width),f={top:r(c,a,s),left:i(c,a,s,0)},m=window.getComputedStyle(o).paddingTop,p=parseInt(m,10);if("middle"===c.vertical){const t=o.getBoundingClientRect(),e=h(a,t,m);f.top=e.top,c.vertical=c.horizontal,c.horizontal=a.top-p===f.top?"top":"bottom"}return"left"!==c.horizontal||isNaN(p)||(f.left=f.left-p),"right"!==c.horizontal||isNaN(p)||(f.left=f.left+p),{spaces:c,placement:f}}function c(o,e,n){const r=(o-e)/2;return t(r>=n?r:n)}function f(t,o,e){const n=o.getBoundingClientRect().height,r=o.getBoundingClientRect().width,i=e/1.41,l=c(n,i,e/4),h=c(r,i,e/4),a={"left-top":{top:l,right:!1,bottom:!1,left:!1},"left-bottom":{top:!1,right:!1,bottom:l,left:!1},"right-bottom":{top:!1,right:!1,bottom:l,left:!1},"right-top":{top:l,right:!1,bottom:!1,left:!1},"top-left":{top:!1,right:!1,bottom:!1,left:h},"bottom-left":{top:!1,right:!1,bottom:!1,left:h},"top-right":{top:!1,right:h,bottom:!1,left:!1},"bottom-right":{top:!1,right:h,bottom:!1,left:!1}};return a.hasOwnProperty(t)?a[t]:{top:!1,right:!1,bottom:!1,left:!1}}const m=(t,o)=>{if(!t.shadowRoot)throw new Error("Element has no shadow root");return o.split(">>").reduce((t,o)=>t.querySelector(o),t.shadowRoot)},p=(t,o)=>{t.parentNode.append(o)},d=t=>{document.querySelector("body").append(t)},g=(t,o)=>{const e=document.createElement("wf-spy");return e.target=t,o&&o.append(e),e},u=(t,o)=>{const e=t.shadowRoot.querySelector(o);return e?e.assignedElements():[]},w={NOT_FOUND_DETACHED_ELEMENT:"No assigned elements found. Detached mode requires the trigger element to be a HTML tag",MORE_THAN_ONE_ELEMENT:"Cannot work with more than one element in detached mode"};export{f as a,a as b,s as c,g as d,w as e,d as f,u as g,l as h,p as m,m as q};