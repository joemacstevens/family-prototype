import{r as t,c as s,h as i,g as e}from"./p-5f633ccc.js";import"./p-74149bb1.js";import{f as o}from"./p-d5e6d16c.js";import{o as h}from"./p-17dc0833.js";import{d as r}from"./p-36ff40aa.js";const n=class{constructor(s){t(this,s)}componentDidUnload(){this.target&&this.target.remove()}},l={columns:3,rows:3},a=class{constructor(i){t(this,i),this.distance=10,this.isManual=!1,this.closeTimeout=(()=>{let t;return{set:(s,i,...e)=>{t=window.setTimeout(s,i,...e)},clear:()=>{t&&window.clearTimeout(t)}}})(),this.spaces={vertical:"bottom",horizontal:"center"},this.type="default",this.trigger="hover",this.timeout=0,this.opened=!1,this.width="standard",this.detached=!1,this.updatePosition=()=>{const{opened:t,triggerEl:s,tooltipEl:i,distance:e}=this;if(!t||!i.classList.contains("show"))return;const h=r(s,i,l,e,this.getDefaultSpaces());this.tryAdjustSpaces(h.spaces),i.style.top=o(h.placement.top),i.style.left=o(h.placement.left),i.style.willChange="top, left"},this.closeEvent=s(this,"wfClose",7)}openHandle(t,s){t!==s&&this.toggleTooltip(t)}toggleTooltip(t){t?(this.show(),this.isManual&&this.timeout>0&&this.hide()):this.isManual||"click"===this.trigger?this.hide(0):this.hide()}show(){const{tooltipEl:t}=this;t.classList.add("show"),this.closeTimeout.clear(),this.animationFrameRunner.start()}hide(t=this.timeout){const{tooltipEl:s}=this;this.closeTimeout.set(()=>{s.classList.remove("show"),this.opened=!1,this.isManual=!1,this.closeEvent.emit(),this.animationFrameRunner.stop()},t)}placementHandle(t,s){t!==s&&this.updateSpaces(t)}updateSpaces(t){this.spaces={top:{vertical:"bottom",horizontal:"center"},bottom:{vertical:"top",horizontal:"center"},left:{vertical:"middle",horizontal:"right"},right:{vertical:"middle",horizontal:"left"}}[t]}componentWillLoad(){this.animationFrameRunner=(t=>{let s;const i=()=>{t(),s=window.requestAnimationFrame(i)};return{start:()=>{s=window.requestAnimationFrame(i)},stop:()=>{s&&window.cancelAnimationFrame(s)}}})(this.updatePosition)}getDefaultSpaces(){const{placement:t}=this;if(t)return this.spaces}tryAdjustSpaces(t){const{spaces:s}=this;s.horizontal===t.horizontal&&s.vertical===t.vertical||(this.spaces=t)}componentDidLoad(){const{placement:t,opened:s}=this;this.setupTriggerElement(),this.tooltipEl=this.host.shadowRoot.querySelector(".tooltip-wrapper"),window.getComputedStyle(this.tooltipEl).paddingTop&&(this.distance=parseInt(window.getComputedStyle(this.tooltipEl).paddingTop,10)),t&&this.updateSpaces(t),s&&(this.isManual=!0,this.toggleTooltip(!0),this.animationFrameRunner.start())}setupTriggerElement(){if(this.detached){const t=this.getElementsFromSlot();if(0===t.length)throw new Error("No assigned elements found. Detached mode requires the trigger element to be a HTML tag");if(t.length>1)throw new Error("Cannot work with more than one element in detached mode");this.triggerEl=t[0],this.detachHost()}else this.triggerEl=this.host.shadowRoot.querySelector(".tooltip-trigger");this.addEventListeners(),this.addIntersectionObserver()}getElementsFromSlot(){return(t=>{if(!t.shadowRoot)throw new Error("Element has no shadow root");return".tooltip-trigger>>slot".split(">>").reduce((t,s)=>t.querySelector(s),t.shadowRoot)})(this.host).assignedElements()}detachHost(){this.host.parentNode.append(this.triggerEl),((t,s)=>{const i=document.createElement("wf-spy");i.target=t,s&&s.append(i)})(this.host,this.triggerEl),(t=>{document.querySelector("body").append(t)})(this.host)}addEventListeners(){const{triggerEl:t}=this;t.addEventListener("mouseenter",()=>this.handleEvent("hover",!0)),t.addEventListener("mouseleave",()=>this.handleEvent("hover",!1)),t.addEventListener("click",()=>this.handleEvent("click",!this.opened))}handleEvent(t,s){this.trigger===t&&this.opened!==s&&(s?this.opened=!0:"hover"===t&&this.timeout>0?this.toggleTooltip(!1):this.opened=!1)}addIntersectionObserver(){const{triggerEl:t}=this;h(t,t=>{this.opened&&(!0===t[0].isIntersecting?(this.tooltipEl.classList.add("show"),this.updatePosition()):this.tooltipEl.classList.remove("show"))},{threshold:[0]})}componentDidUnload(){this.animationFrameRunner.stop()}render(){const{header:t,text:s,type:e,width:o,spaces:h}=this,r={"tooltip-content":!0,"tooltip-content-wide":"wide"===o,[`tooltip-content-${e}`]:!0,[`tooltip-content-${h.vertical}-${h.horizontal}`]:!0},n=t?i("h6",{class:"tooltip-header"},t):null,l=s?i("div",{class:"tooltip-text"},s):null;return i("div",null,i("div",{class:"tooltip-trigger"},i("slot",null)),i("div",{class:"tooltip-wrapper"},i("div",{class:r},i("span",{class:"arrow-mask"},i("span",{class:"arrow-pointer"})),i("div",{class:"tooltip-content-inner-wrapper"},n,l))))}get host(){return e(this)}static get watchers(){return{opened:["openHandle"],placement:["placementHandle"]}}static get style(){return":host{display:inline-block;position:relative}.tooltip-wrapper{position:fixed;display:none;z-index:1;opacity:0;visibility:hidden;padding:var(--tooltip-distance,10px);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition:opacity linear var(--tooltip-animate-delay,.15s),visibility linear var(--tooltip-animate-delay,.15s);transition:opacity linear var(--tooltip-animate-delay,.15s),visibility linear var(--tooltip-animate-delay,.15s);top:0;left:0;white-space:normal;word-break:break-word}.tooltip-wrapper.show{display:block;z-index:2;opacity:1;visibility:visible}.tooltip-content{position:relative;display:-ms-flexbox;display:flex;width:var(--tooltip-width,auto);max-width:var(--tooltip-max-width,220px);border-radius:var(--tooltip-border-radius,0);z-index:var(--tooltip-z-index,9999);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:var(--tooltip-shadow,1px 1px 2px 1px) var(--tooltip-shadow-color,rgba(0,0,0,.25));box-shadow:var(--tooltip-shadow,1px 1px 2px 1px) var(--tooltip-shadow-color,rgba(0,0,0,.25));white-space:normal;font-size:var(--tooltip-font-size,var(--font-size,16px));font-family:var(--tooltip-font-family);font-weight:var(--tooltip-font-weight,var(--font-weight-normal,var(--font-weight,normal)));line-height:var(--tooltip-line-height,var(--line-height,normal));text-align:left}.tooltip-content .tooltip-header{font:inherit;font-family:var(--tooltip-header-font-family,var(--headline-font-family,var(--font-family)));font-weight:var(--tooltip-header-font-weight,var(--headline-font-weight,var(--font-weight-bold,var(--font-weight,normal))));margin:0 0 var(--tooltip-header-margin-bottom,var(--spacing-xs,12px)) 0}.tooltip-content-wide{max-width:var(--tooltip-wide-max-width,300px)}.tooltip-content-inner-wrapper{padding:var(--tooltip-padding,var(--spacing-xs,12px));position:relative;-ms-flex-item-align:stretch;align-self:stretch;width:100%}.tooltip-content .arrow-mask{display:block}.tooltip-content .arrow-mask,.tooltip-content .arrow-mask .arrow-pointer{position:absolute;height:var(--tooltip-arrow-size,8px);width:var(--tooltip-arrow-size,8px)}.tooltip-content .arrow-mask .arrow-pointer{left:auto;top:auto;-webkit-box-shadow:var(--tooltip-shadow,1px 1px 2px 1px) var(--tooltip-shadow-color,rgba(0,0,0,.25));box-shadow:var(--tooltip-shadow,1px 1px 2px 1px) var(--tooltip-shadow-color,rgba(0,0,0,.25));-webkit-transform:rotate(45deg);transform:rotate(45deg)}.tooltip-content-default{color:var(--tooltip-color,var(--color-text-primary,var(--text-primary-color,var(--text-color,#1c1c1c))));border-color:var(--tooltip-background-color,#fff)}.tooltip-content-default,.tooltip-content-default .arrow-mask .arrow-pointer,.tooltip-content-default .tooltip-content-inner-wrapper{background-color:var(--tooltip-background-color,#fff)}.tooltip-content-info{color:var(--tooltip-info-color,var(--color-text-primary,var(--text-primary-color,var(--text-color,#1c1c1c))));border-color:var(--tooltip-info-background-color,#2191cb)}.tooltip-content-info,.tooltip-content-info .arrow-mask .arrow-pointer,.tooltip-content-info .tooltip-content-inner-wrapper{background-color:var(--tooltip-info-background-color,#2191cb)}.tooltip-content-warning{color:var(--tooltip-info-color,var(--color-text-primary,var(--text-primary-color,var(--text-color,#1c1c1c))));border-color:var(--tooltip-warning-background-color,#f7e1df)}.tooltip-content-warning,.tooltip-content-warning .arrow-mask .arrow-pointer,.tooltip-content-warning .tooltip-content-inner-wrapper{background-color:var(--tooltip-warning-background-color,#f7e1df)}.tooltip-content-error{color:var(--tooltip-info-color,var(--color-text-primary,var(--text-primary-color,var(--text-color,#1c1c1c))));border-color:var(--tooltip-error-background-color,#f7e1df)}.tooltip-content-error,.tooltip-content-error .arrow-mask .arrow-pointer,.tooltip-content-error .tooltip-content-inner-wrapper{background-color:var(--tooltip-error-background-color,#f7e1df)}.tooltip-content-top-left .arrow-mask{bottom:100%;left:0;width:100%}.tooltip-content-top-left .arrow-mask .arrow-pointer{bottom:calc(-1 * var(--tooltip-arrow-size, 8px)/ 2);left:calc(var(--tooltip-arrow-size, 8px))}.tooltip-content-top-center .arrow-mask{bottom:100%;left:0;width:100%}.tooltip-content-top-center .arrow-mask .arrow-pointer{bottom:calc(-1 * var(--tooltip-arrow-size, 8px)/ 2);left:calc(50% - var(--tooltip-arrow-size, 8px)/ 2)}.tooltip-content-top-right .arrow-mask{bottom:100%;right:0;width:100%}.tooltip-content-top-right .arrow-mask .arrow-pointer{bottom:calc(-1 * var(--tooltip-arrow-size, 8px)/ 2);right:calc(var(--tooltip-arrow-size, 8px))}.tooltip-content-middle-left .arrow-mask{right:100%;top:0;height:100%}.tooltip-content-middle-left .arrow-mask .arrow-pointer{right:calc(-1 * var(--tooltip-arrow-size, 8px)/ 2);top:calc(50% - var(--tooltip-arrow-size, 8px)/ 2)}.tooltip-content-middle-right .arrow-mask{left:100%;top:0;height:100%}.tooltip-content-middle-right .arrow-mask .arrow-pointer{left:calc(-1 * var(--tooltip-arrow-size, 8px)/ 2);top:calc(50% - var(--tooltip-arrow-size, 8px)/ 2)}.tooltip-content-bottom-left .arrow-mask{top:100%;left:0;width:100%}.tooltip-content-bottom-left .arrow-mask .arrow-pointer{top:calc(-1 * var(--tooltip-arrow-size, 8px)/ 2);left:calc(var(--tooltip-arrow-size, 8px))}.tooltip-content-bottom-center .arrow-mask{top:100%;left:0;width:100%}.tooltip-content-bottom-center .arrow-mask .arrow-pointer{top:calc(-1 * var(--tooltip-arrow-size, 8px)/ 2);left:calc(50% - var(--tooltip-arrow-size, 8px)/ 2)}.tooltip-content-bottom-right .arrow-mask{top:100%;right:0;width:100%}.tooltip-content-bottom-right .arrow-mask .arrow-pointer{top:calc(-1 * var(--tooltip-arrow-size, 8px)/ 2);right:calc(var(--tooltip-arrow-size, 8px))}"}};export{n as wf_spy,a as wf_tooltip};