var __extends=this&&this.__extends||function(){var t=function(e,r){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r]};return t(e,r)};return function(e,r){t(e,r);function i(){this.constructor=e}e.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}}();System.register([],(function(t){"use strict";return{execute:function(){var e=typeof window.WeakMap==="function"&&typeof window.Map==="function";var r=function(){if(e){return window.WeakMap}function t(t,e){var r=-1;t.some((function(t,i){var n=t[0]===e;if(n){r=i}return n}));return r}return(function(){function e(){this.__entries__=[]}e.prototype.get=function(e){var r=t(this.__entries__,e);return this.__entries__[r][1]};e.prototype.set=function(e,r){var i=t(this.__entries__,e);if(~i){this.__entries__[i][1]=r}else{this.__entries__.push([e,r])}};e.prototype.delete=function(e){var r=this.__entries__,i=t(r,e);if(~i){r.splice(i,1)}};e.prototype.has=function(e){return!!~t(this.__entries__,e)};return e}())}();var i=function(){if(e){return window.Map}return(function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:true,configurable:true});e.prototype.clear=function(){this.__entries__.splice(0,this.__entries__.length)};e.prototype.entries=function(){return this.__entries__.slice()};e.prototype.keys=function(){return this.__entries__.map((function(t){return t[0]}))};e.prototype.values=function(){return this.__entries__.map((function(t){return t[1]}))};e.prototype.forEach=function(t,e){if(e===void 0){e=null}for(var r=0,i=this.__entries__;r<i.length;r++){var n=i[r];t.call(e,n[1],n[0])}};return e}(r))}();var n=function(){if(window.performance&&window.performance.now){return function(){return window.performance.now()}}return function(){return Date.now()}}();var o=typeof window.MutationObserver==="function";var s=function(){if(window.requestAnimationFrame){return window.requestAnimationFrame}return function(t){return setTimeout((function(){return t(n())}),1e3/60)}}();function a(t,e){if(e===void 0){e=0}var r=false;return function(){var i=this;var n=[];for(var o=0;o<arguments.length;o++){n[o]=arguments[o]}if(r!==false){clearTimeout(r)}r=setTimeout((function(){r=false;t.apply(i,n)}),e)}}var u=function(){function t(t,e){if(t===void 0){t=50}if(e===void 0){e=false}this._idleTimeout=t;this._trackHovers=e;this._cycleStartTime=-1;this._isUpdateScheduled=false;this._repeatCycle=false;this._hoverInitiated=false;this._mutationsObserver=null;this._isListening=false;this._observers=[];this.startUpdateCycle=this.startUpdateCycle.bind(this);this.scheduleUpdate=this.scheduleUpdate.bind(this);this._onMutation=this._onMutation.bind(this);this._repeatHandler=a(this.scheduleUpdate,200);this._onMouseOver=a(this.startUpdateCycle,200)}Object.defineProperty(t.prototype,"idleTimeout",{get:function(){return this._idleTimeout},set:function(t){this._idleTimeout=t},enumerable:true,configurable:true});t.prototype.connect=function(t){if(!this.isConnected(t)){this._observers.push(t)}if(!this._isListening){this._initListeners()}};t.prototype.disconnect=function(t){var e=this._observers,r=e.indexOf(t);if(~r){e.splice(r,1)}if(!e.length&&this._isListening){this._removeListeners()}};t.prototype.isConnected=function(t){return!!~this._observers.indexOf(t)};t.prototype._updateObservers=function(){var t=false;for(var e=0,r=this._observers;e<r.length;e++){var i=r[e];if(i.updateObservations()){t=true}if(i.hasEntries()){i.notifySubscriber()}}return t};t.prototype.startUpdateCycle=function(){this._cycleStartTime=n();this.scheduleUpdate()};t.prototype.scheduleUpdate=function(t){var e=typeof t==="number";if(e){var r=this._updateObservers();this._isUpdateScheduled=false;if(!this._wasCycleStarted()){return}if(r){this.startUpdateCycle()}else if(!this._hasIdleTimeEnded()){this.scheduleUpdate()}else{this._onCycleEnded()}}else if(!this._isUpdateScheduled){s(this.scheduleUpdate);this._isUpdateScheduled=true}};t.prototype._hasIdleTimeEnded=function(){return n()-this._cycleStartTime>this._idleTimeout};t.prototype._wasCycleStarted=function(){return this._cycleStartTime!==-1};t.prototype._onCycleEnded=function(){this._cycleStartTime=-1;if(this._repeatCycle){this._cycleStartTime=0;this._repeatHandler()}};t.prototype._initListeners=function(){if(this._isListening){return}this._isListening=true;window.addEventListener("resize",this.startUpdateCycle,true);window.addEventListener("scroll",this.scheduleUpdate,true);if(this._trackHovers){this._addHoverListener()}if(!o){this._repeatCycle=true;window.addEventListener("click",this.startUpdateCycle,true);this.startUpdateCycle()}else{this._mutationsObserver=new MutationObserver(this._onMutation);this._mutationsObserver.observe(document,{attributes:true,childList:true,characterData:true,subtree:true})}};t.prototype._removeListeners=function(){if(!this._isListening){return}window.removeEventListener("resize",this.startUpdateCycle,true);window.removeEventListener("scroll",this.scheduleUpdate,true);this._removeHoverListener();if(!o){this._repeatCycle=false;window.removeEventListener("click",this.startUpdateCycle,true)}else if(this._mutationsObserver){this._mutationsObserver.disconnect();this._mutationsObserver=null}this._isListening=false};t.prototype.enableHover=function(){this._trackHovers=true;if(this._isListening){this._addHoverListener()}};t.prototype.disableHover=function(){this._trackHovers=false;this._removeHoverListener()};t.prototype.isHoverEnabled=function(){return this._trackHovers};t.prototype._addHoverListener=function(){if(this._hoverInitiated){return}window.addEventListener("mouseover",this._onMouseOver,true);this._hoverInitiated=true};t.prototype._removeHoverListener=function(){if(!this._hoverInitiated){return}window.removeEventListener("mouseover",this._onMouseOver,true);this._hoverInitiated=false};t.prototype._onMutation=function(t){var e=t.every((function(t){return t.type!=="attributes"}));e?this.scheduleUpdate():this.startUpdateCycle()};return t}();function h(t){var e={};for(var r=0,i=Object.keys(t);r<i.length;r++){var n=i[r];e[n]={value:t[n]}}return Object.defineProperties({},e)}function c(t,e,r,i){if(t===void 0){t=0}if(e===void 0){e=0}if(r===void 0){r=0}if(i===void 0){i=0}return{left:t,top:e,width:r,height:i,bottom:e+i,right:t+r}}function f(t){if(t===document.documentElement){return c(0,0,t.clientWidth,t.clientHeight)}return t.getBoundingClientRect()}function p(t){return t.width*t.height}function l(t){return t.height===0&&t.width===0}function d(t,e){return t.top===e.top&&t.left===e.left&&t.right===e.right&&t.bottom===e.bottom}var v=function(){function t(t,e,r,i,n,o){Object.defineProperties(this,{boundingClientRect:{value:e},intersectionRatio:{value:i},intersectionRect:{value:h(r)},rootBounds:{value:h(n)},target:{value:t},time:{value:o}})}return t}();var _=c();function y(t,e){var r=document.documentElement;return t!==r&&!r.contains(t)||!t.contains(e)}function m(t,e){var r=Math.max(e.left,t.left);var i=Math.min(e.right,t.right);var n=Math.max(e.top,t.top);var o=Math.min(e.bottom,t.bottom);var s=i-r;var a=o-n;return c(r,n,s,a)}function w(t,e,r,i){var n=i,o=e.parentNode,s=false;while(!s){var a=null;if(o===t||o.nodeType!==1){s=true;a=r}else if(window.getComputedStyle(o).overflow!=="visible"){a=f(o)}if(a){n=m(n,a)}o=o.parentNode}return n}var b=function(){function t(t,e){this.target=t;this.observer=e;this.prevTargetRect=_;this.prevThreshold=0;this.prevRatio=0}t.prototype.updateIntersection=function(t,e){var r=f(this.target),i=this.getIntersectionData(t,e,r),o=+i.exists,s=i.ratio!==this.prevRatio,a=!d(r,this.prevTargetRect),u;if(i.exists&&!l(r)){o=this.observer.getThresholdGreaterThan(i.ratio)}u=o!==this.prevThreshold;this.prevTargetRect=r;this.prevThreshold=o;this.prevRatio=i.ratio;if(!i.exists){i.ratio=0;i.rect=_}if(u){var h=new v(this.target,r,i.rect,i.ratio,e,n());this.observer.queueEntry(h)}return{ratioChanged:s,thresholdChanged:u,targetRectChanged:a}};t.prototype.getIntersectionData=function(t,e,r){var i=this.target;if(!r){r=f(this.target)}if(!e){e=f(t)}var n=y(t,i),o=!n?w(t,i,e,r):_,s=!n&&o.width>=0&&o.height>=0,a=p(o)/p(r)||0;return{rect:o,ratio:a,exists:s}};return t}();function g(t){if(t===void 0){t=0}var e=t;if(!Array.isArray(t)){e=[t]}else if(!t.length){e=[0]}return e.map((function(t){t=Number(t);if(!window.isFinite(t)){throw new TypeError("The provided double value is non-finite.")}else if(t<0||t>1){throw new RangeError("Threshold values must be between 0 and 1.")}return t})).sort()}function E(t){if(t===void 0){t="0px"}t=(t+"").split(/\s+/);if(t.length>4){throw new Error("Extra text found at the end of rootMargin.")}t[0]=t[0]||"0px";t[1]=t[1]||t[0];t[2]=t[2]||t[0];t[3]=t[3]||t[1];var e=t.join(" ");var r=t.map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t)||[],r=e[1],i=e[2];var n=i==="px";r=parseFloat(r);if(!window.isFinite(r)){throw new Error("rootMargin must be specified in pixels or percent.")}if(!n){r/=100}return{value:r,pixels:n}}));return{rawData:e,parsedData:r}}function T(t,e){e=e.map((function(e,r){var i=e.value;if(!e.pixels){i*=r%2?t.width:t.height}return i}));var r={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};r.width=r.right-r.left;r.height=r.bottom-r.top;return r}var O=function(){function t(t,e,r,n){if(e===void 0){e={}}if(typeof t!=="function"){throw new TypeError("The callback provided as parameter 1 is not a function.")}if(typeof e!=="object"){throw new TypeError("parameter 2 is not an object.")}if("root"in e&&!(e.root instanceof Element)){throw new TypeError("member root is not of type Element.")}var o=g(e.threshold);var s=E(e.rootMargin);this.root=e.root||null;this.rootMargin=s.rawData;this.thresholds=Object.freeze(o);this._root=e.root||document.documentElement;this._callback=t;this._rootMargin=s.parsedData;this._targets=new i;this._quedEntries=[];this._publicObserver=n||this;this.controller=r}t.prototype.observe=function(t){if(!arguments.length){throw new TypeError("1 argument required, but only 0 present.")}if(!(t instanceof Element)){throw new TypeError('parameter 1 is not of type "Element".')}var e=this._targets;if(e.has(t)){return}e.set(t,new b(t,this));if(!this.controller.isConnected(this)){this.controller.connect(this)}this.controller.startUpdateCycle()};t.prototype.unobserve=function(t){if(!arguments.length){throw new TypeError("1 argument required, but only 0 present.")}if(!(t instanceof Element)){throw new TypeError('parameter 1 is not of type "Element".')}var e=this._targets;if(e.has(t)){e.delete(t)}if(!e.size){this.disconnect()}};t.prototype.disconnect=function(){this._targets.clear();this.controller.disconnect(this)};t.prototype.takeRecords=function(){return this._quedEntries.splice(0)};t.prototype.notifySubscriber=function(){var t=this.takeRecords();var e=this._publicObserver;if(t.length){this._callback.call(e,t,e)}};t.prototype.queueEntry=function(t){this._quedEntries.push(t)};t.prototype.hasEntries=function(){return!!this._quedEntries.length};t.prototype.updateObservations=function(){var t=this._root,e=this.getRootRect(),r=false;this._targets.forEach((function(i){var n=i.updateIntersection(t,e);if(n.ratioChanged||n.targetRectChanged){r=true}}));return r};t.prototype.getThresholdGreaterThan=function(t){var e=this.thresholds,r=e.length,i=0;while(i<r&&e[i]<=t){++i}return i};t.prototype.getRootRect=function(){var t=f(this._root);return T(t,this._rootMargin)};return t}();var C=new u;var L=new r;var U=function(){function t(t,e){if(!arguments.length){throw new TypeError("1 argument required, but only 0 present.")}var r=new O(t,e,C,this);Object.defineProperties(this,{root:{value:r.root},thresholds:{value:r.thresholds},rootMargin:{value:r.rootMargin}});L.set(this,r)}Object.defineProperty(t,"idleTimeout",{get:function(){return C.idleTimeout},set:function(t){if(typeof t!=="number"){throw new TypeError('type of "idleTimeout" value must be a number.')}if(typeof t<0){throw new TypeError('"idleTimeout" value must be greater than 0.')}C.idleTimeout=t},enumerable:true,configurable:true});Object.defineProperty(t,"trackHovers",{get:function(){return C.isHoverEnabled()},set:function(t){if(typeof t!=="boolean"){throw new TypeError('type of "trackHovers" value must be a boolean.')}t?C.enableHover():C.disableHover()},enumerable:true,configurable:true});return t}();["observe","unobserve","disconnect","takeRecords"].forEach((function(t){U.prototype[t]=function(){var e;return(e=L.get(this))[t].apply(e,arguments)}}));var M;if(typeof window.IntersectionObserver==="function"){M=window.IntersectionObserver}else{M=U}var x=M;var H=t("o",(function(t,e,r){var i=new x(e,r);i.observe(t)}))}}}));